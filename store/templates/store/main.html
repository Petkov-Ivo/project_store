{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MyStore</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <style type="text/css">

        button {
            position: relative;
                    }
        #canvas{
            position: absolute;
            width: 100%;
            height: 100%;
            margin: 0;
            overflow: scroll;
        }

    </style>


    <script type="text/javascript">
        var user = '{{ request.user }}'

        function getToken(name) {
        var cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                }
            }
        }
        return cookieValue;
    }
    var csrftoken = getToken('csrftoken');

    </script>

    <script type="text/javascript">
        function init () {
            var canvas = document.getElementById('canvas');
            var ctx = canvas.getContext('2d');

            canvas.width  = window.innerWidth;
            canvas.height = window.innerHeight;
            var w = canvas.width;
            var h = canvas.height;

            var bg = new Image();


            var flakes = [];

            function snowfall () {
                ctx.clearRect(0, 0, w, h)
                ctx.drawImage(bg, 0, 0);
                addFlake();
                snow();
            };

            function addFlake () {
                var x = Math.ceil(Math.random() * w);
                var s = Math.ceil(Math.random() * 4);
                flakes.push({"x": x, "y": 0, "s": s});
            };

            function snow () {
                for (var i = 0; i < flakes.length; i++) {
                    var flake = flakes[i];
                    ctx.beginPath();
                    ctx.fillStyle = "rgba(255, 255, 255, 1)";
                    ctx.arc(flake.x, flakes[i].y += flake.s/2, flake.s/2, 0, 2 * Math.PI);
                    ctx.fill();
                    if(flakes[i].y > h){
                        flakes.splice(i, 1);
                    };
                };



            };

            setInterval(snowfall, 20);

        };
        window.onload = init;

    </script>




</head>
<body class="body">
{% include 'store/navbar.html' %}
<div>
<canvas id='canvas' ></canvas>
</div>

    <div class="container">
        {% block content %}

        {% endblock %}
    </div>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<script type="text/javascript" src="{% static 'js/cart.js' %}"></script>
</body>
</html>